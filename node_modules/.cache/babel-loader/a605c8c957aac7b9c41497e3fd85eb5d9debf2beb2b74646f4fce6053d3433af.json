{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PerformanceMonitor=()=>{const[metrics,setMetrics]=useState({});const[isVisible,setIsVisible]=useState(false);useEffect(()=>{// Listen for performance metrics\nconst handlePerformanceMetric=event=>{if(event.detail&&event.detail.name){setMetrics(prev=>({...prev,[event.detail.name]:{value:event.detail.value,rating:event.detail.rating,timestamp:Date.now()}}));}};// Custom event listener for performance metrics\nwindow.addEventListener('performance-metric',handlePerformanceMetric);// Also listen to console logs for web vitals\nconst originalLog=console.log;console.log=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}originalLog.apply(console,args);// Parse performance metrics from console logs\nif(args[0]&&typeof args[0]==='string'&&args[0].includes('Performance Metric:')){const metricData=args[1];if(metricData&&metricData.name){setMetrics(prev=>({...prev,[metricData.name]:{value:metricData.value,rating:metricData.rating,timestamp:Date.now()}}));}}};return()=>{window.removeEventListener('performance-metric',handlePerformanceMetric);console.log=originalLog;};},[]);const getRatingColor=rating=>{switch(rating){case'good':return'text-green-500';case'needs-improvement':return'text-yellow-500';case'poor':return'text-red-500';default:return'text-gray-500';}};const formatValue=(name,value)=>{switch(name){case'CLS':return value.toFixed(3);case'FID':case'FCP':case'LCP':case'TTFB':return`${Math.round(value)}ms`;default:return value;}};if(!isVisible){return/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsVisible(true),className:\"fixed bottom-4 right-4 bg-blue-600 text-white p-2 rounded-full shadow-lg z-50 hover:bg-blue-700 transition-colors\",title:\"Show Performance Monitor\",children:\"\\uD83D\\uDCCA\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50 max-w-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:\"Performance Metrics\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsVisible(false),className:\"text-gray-400 hover:text-gray-600\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-xs\",children:[Object.entries(metrics).map(_ref=>{let[name,data]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-700\",children:[name,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:getRatingColor(data.rating),children:formatValue(name,data.value)}),/*#__PURE__*/_jsx(\"span\",{className:`px-1 py-0.5 rounded text-xs ${getRatingColor(data.rating)}`,children:data.rating})]})]},name);}),Object.keys(metrics).length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-2\",children:\"Loading metrics...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-2 border-t border-gray-100 text-xs text-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDFE2 Good\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDFE1 Needs Improvement\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD34 Poor\"})]})})]});};export default PerformanceMonitor;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","PerformanceMonitor","metrics","setMetrics","isVisible","setIsVisible","handlePerformanceMetric","event","detail","name","prev","value","rating","timestamp","Date","now","window","addEventListener","originalLog","console","log","_len","arguments","length","args","Array","_key","apply","includes","metricData","removeEventListener","getRatingColor","formatValue","toFixed","Math","round","onClick","className","title","children","Object","entries","map","_ref","data","keys"],"sources":["/home/seconduser/projects/yumemi-website/src/components/ui/PerformanceMonitor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst PerformanceMonitor = () => {\n  const [metrics, setMetrics] = useState({});\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    // Listen for performance metrics\n    const handlePerformanceMetric = (event) => {\n      if (event.detail && event.detail.name) {\n        setMetrics(prev => ({\n          ...prev,\n          [event.detail.name]: {\n            value: event.detail.value,\n            rating: event.detail.rating,\n            timestamp: Date.now()\n          }\n        }));\n      }\n    };\n\n    // Custom event listener for performance metrics\n    window.addEventListener('performance-metric', handlePerformanceMetric);\n\n    // Also listen to console logs for web vitals\n    const originalLog = console.log;\n    console.log = (...args) => {\n      originalLog.apply(console, args);\n      \n      // Parse performance metrics from console logs\n      if (args[0] && typeof args[0] === 'string' && args[0].includes('Performance Metric:')) {\n        const metricData = args[1];\n        if (metricData && metricData.name) {\n          setMetrics(prev => ({\n            ...prev,\n            [metricData.name]: {\n              value: metricData.value,\n              rating: metricData.rating,\n              timestamp: Date.now()\n            }\n          }));\n        }\n      }\n    };\n\n    return () => {\n      window.removeEventListener('performance-metric', handlePerformanceMetric);\n      console.log = originalLog;\n    };\n  }, []);\n\n  const getRatingColor = (rating) => {\n    switch (rating) {\n      case 'good': return 'text-green-500';\n      case 'needs-improvement': return 'text-yellow-500';\n      case 'poor': return 'text-red-500';\n      default: return 'text-gray-500';\n    }\n  };\n\n  const formatValue = (name, value) => {\n    switch (name) {\n      case 'CLS':\n        return value.toFixed(3);\n      case 'FID':\n      case 'FCP':\n      case 'LCP':\n      case 'TTFB':\n        return `${Math.round(value)}ms`;\n      default:\n        return value;\n    }\n  };\n\n  if (!isVisible) {\n    return (\n      <button\n        onClick={() => setIsVisible(true)}\n        className=\"fixed bottom-4 right-4 bg-blue-600 text-white p-2 rounded-full shadow-lg z-50 hover:bg-blue-700 transition-colors\"\n        title=\"Show Performance Monitor\"\n      >\n        ðŸ“Š\n      </button>\n    );\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50 max-w-xs\">\n      <div className=\"flex justify-between items-center mb-3\">\n        <h3 className=\"text-sm font-semibold text-gray-900\">Performance Metrics</h3>\n        <button\n          onClick={() => setIsVisible(false)}\n          className=\"text-gray-400 hover:text-gray-600\"\n        >\n          âœ•\n        </button>\n      </div>\n      \n      <div className=\"space-y-2 text-xs\">\n        {Object.entries(metrics).map(([name, data]) => (\n          <div key={name} className=\"flex justify-between items-center\">\n            <span className=\"font-medium text-gray-700\">{name}:</span>\n            <div className=\"flex items-center space-x-2\">\n              <span className={getRatingColor(data.rating)}>\n                {formatValue(name, data.value)}\n              </span>\n              <span className={`px-1 py-0.5 rounded text-xs ${getRatingColor(data.rating)}`}>\n                {data.rating}\n              </span>\n            </div>\n          </div>\n        ))}\n        \n        {Object.keys(metrics).length === 0 && (\n          <p className=\"text-gray-500 text-center py-2\">\n            Loading metrics...\n          </p>\n        )}\n      </div>\n      \n      <div className=\"mt-3 pt-2 border-t border-gray-100 text-xs text-gray-500\">\n        <div className=\"flex justify-between\">\n          <span>ðŸŸ¢ Good</span>\n          <span>ðŸŸ¡ Needs Improvement</span>\n          <span>ðŸ”´ Poor</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PerformanceMonitor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}